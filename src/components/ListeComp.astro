---
import Section from "./Section.astro";
import type { CompListProps } from "@types";

interface Props {
    compListe: Array<CompListProps & { focus?: boolean }>;
}

const { compListe } = Astro.props;
---

<Section text="Rappel - Les 6 domaines de compétences en BUT Informatique" href="competences">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {compListe.map((competence) => (
                <div
                        class={`bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border-2 ${competence.focus ? 'border-primary' : 'border-gray-700/50'} hover:border-[${competence.color}] transition-all duration-300`}
                >
                    {competence.focus && (
                            <div class="absolute top-0 right-0 bg-primary text-white text-xs px-2 py-1 rounded-bl rounded-tr">
                                Compétence ciblée
                            </div>
                    )}
                    <div class="flex justify-between items-start">
                        <h3 class="text-lg font-semibold text-white mb-2 break-words">{competence.name}</h3>
                        <span class="font-mono text-sm bg-gray-700/50 px-2 py-1 rounded" style={`color: ${competence.color};`}>
            {competence.level}/6
          </span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2.5">
                        <div
                                class="h-2.5 rounded-full"
                                style={`width: ${(competence.level / 6) * 100}%; background-color: ${competence.color}`}
                        ></div>
                    </div>
                </div>
        ))}
    </div>
</Section>
